<!DOCTYPE html><html lang="en" theme-mode="dark"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Uniswap V1--深度探索 | 0xOne1eaF's Blog Post</title><link rel="icon" type="image/x-icon" href="/favicon.ico"><link rel="preload" as="font" crossorigin="anonymous" href="/font/Bender.ttf"><link rel="preload" as="font" crossorigin="anonymous" href="/font/BenderLight.ttf"><link rel="preload" as="font" crossorigin="anonymous" href="/font/JetBrainsMono-Regular.woff2"><link rel="stylesheet" href="/css/arknights.css"><style>@font-face {
  font-family: Bender;
  src: local('Bender'), url("/font/Bender.ttf"), url("/font/Bender.otf");
}
@font-face {
  font-family: BenderLight;
  src: local('BenderLight'), url("/font/BenderLight.ttf");
}
@font-face {
  font-family: 'JetBrains Mono';
  src: local('JetBrains Mono'), url('/font/JetBrainsMono-Regular.woff2') format('woff2');
}
</style><script>var config = {"root":"/","search":{"preload":false,"activeHolder":"Enter here","blurHolder":"Search","noResult":"Data \"$0\" not found"},"code":{"codeInfo":"$0 - $1 lines","copy":"copy"}}</script><link type="text/css" rel="stylesheet" href="/lib/encrypt/hbe.style.css"><script src="//unpkg.com/mermaid@10.5.0/dist/mermaid.min.js"></script><link type="text/css" rel="stylesheet" href="//unpkg.com/lightgallery@2.7.1/css/lightgallery.css"><link type="text/css" rel="stylesheet" href="//unpkg.com/lightgallery@2.7.1/css/lg-zoom.css"><link type="text/css" rel="stylesheet" href="//unpkg.com/lightgallery@2.7.1/css/lg-thumbnail.css"><link type="text/css" rel="stylesheet" href="/lib/fontawesome/css/all.min.css"><script>if (window.localStorage.getItem('theme-mode') === 'light')
 document.documentElement.setAttribute('theme-mode', 'light')
if (window.localStorage.getItem('theme-mode') === 'dark')
 document.documentElement.setAttribute('theme-mode', 'dark')</script><style>@font-face {
 font-family: BenderLight;
 src: local('Bender'), url("/font/BenderLight.woff2") format('woff2');
}
@font-face {
 font-family: 'JetBrains Mono';
 src: local('JetBrains Mono'), url('/font/JetBrainsMono-Regular.woff2') format('woff2');
}</style><style>:root {
 --dark-background: url('https://ak.hypergryph.com/assets/index/images/ak/pc/bk.jpg');
 --light-background: url('/img/bk.jpg');
 --theme-encrypt-confirm: 'confirm'
}</style><script defer src="/js/arknights.js"></script><script defer src="/js/search.js"></script><script defer type="module">import mermaid from '//unpkg.com/mermaid@10.5.0/dist/mermaid.esm.mjs';
window.mermaid = mermaid;
code.paintMermaid();
</script><script async src="//unpkg.com/lightgallery@2.7.1/lightgallery.min.js"></script><script async src="//unpkg.com/lightgallery@2.7.1/plugins/zoom/lg-zoom.min.js"></script><script async src="//unpkg.com/lightgallery@2.7.1/plugins/thumbnail/lg-thumbnail.min.js"></script><script async src="/lib/encrypt/hbe.js"></script><script async src="/js/pjax.js"></script><script class="pjax-js">reset= () => {document.querySelector('.lg-container')?.remove()
lightGallery(document.getElementById('post-bg'), {
  plugins: [lgZoom,lgThumbnail],
  selector: '.item-img'})}</script><script>window.addEventListener("load",() => {pjax = new Pjax({
 cacheBust: false,
 selectors: ['title','article','#aside-block','.pjax-js','data-pjax','.busuanzi'],
 switches: {'article': Pjax.switches.sideBySide},
 switchesOptions: {
   'article': {
     classNames: {
       remove: "pjax-out",
       add: "pjax-in"
     }
   }
 }
});
document.addEventListener("pjax:complete", reset);reset()})</script><script class="pjax-js">reset= () => {document.querySelector('.lg-container')?.remove()
lightGallery(document.getElementById('post-bg'), {
  plugins: [lgZoom,lgThumbnail],
  selector: '.item-img'})}</script><script>window.addEventListener("load",() => {pjax = new Pjax({
 cacheBust: false,
 selectors: ['title','article','#aside-block','.pjax-js'],
 switches: {'article': Pjax.switches.sideBySide},
 switchesOptions: {
   'article': {
     classNames: {
       remove: "pjax-out",
       add: "pjax-in"
     }
   }
 }
});
document.addEventListener("pjax:complete", reset);reset()})</script><meta name="generator" content="Hexo 7.3.0"></head><body><div class="loading" style="opacity: 0;"><div class="loadingBar left"></div><div class="loadingBar right"></div></div><main><header class="closed"><div class="navBtn"><i class="navBtnIcon"><span class="navBtnIconBar"></span><span class="navBtnIconBar"></span><span class="navBtnIconBar"></span></i></div><nav><div class="navItem" id="search-header"><span class="navItemTitle"><input autocomplete="off" autocorrect="off" autocapitalize="none" placeholder="Search" spellcheck="false" maxlength="50" type="text" id="search-input"></span></div><div class="navItem" id="search-holder"></div><div class="search-popup" tabindex="0"><div id="search-result"></div></div><ol class="navContent"><li class="navItem"><a class="navBlock" href="/"><span class="navItemTitle">Home</span></a></li><li class="navItem" matchdata="categories,tags"><a class="navBlock" href="/archives/"><span class="navItemTitle">Archives</span></a></li></ol></nav></header><article><div id="post-bg"><div id="post-title"><h1>Uniswap V1--深度探索</h1><div id="post-info"><span>First Post: <div class="control"><time datetime="2024-11-28T16:00:00.000Z" id="date"> 2024-11-29</time></div></span><br><span>Last Update: <div class="control"><time datetime="2024-11-27T18:54:59.037Z" id="updated"> 2024-11-28</time></div></span></div></div><hr><div id="post-content"><blockquote>
<p>注：该文章使用了chatgpt进行润色（我要是能随手写排版这样工整的文章就好了）</p>
</blockquote>
<h1 id="Uniswap-V1-基本信息"><a href="#Uniswap-V1-基本信息" class="headerlink" title="Uniswap V1 基本信息"></a>Uniswap V1 基本信息</h1><p><strong>Uniswap V1</strong> 是第一个去中心化的自动化做市商（AMM）协议，运行在以太坊区块链上。它允许用户无需中介或订单簿，通过智能合约直接进行代币交易。Uniswap V1 的设计理念是简化去中心化交易所（DEX）的使用，同时确保高效、透明且抗审查的交易机制。它成为去中心化金融（DeFi）领域的基础协议之一，并为后来的 Uniswap V2 和 V3 版本奠定了重要基础。</p>
<h2 id="Uniswap-V1-的核心特点"><a href="#Uniswap-V1-的核心特点" class="headerlink" title="Uniswap V1 的核心特点"></a>Uniswap V1 的核心特点</h2><h3 id="1-自动化做市商（AMM）模型"><a href="#1-自动化做市商（AMM）模型" class="headerlink" title="1. 自动化做市商（AMM）模型"></a>1. 自动化做市商（AMM）模型</h3><ul>
<li>与传统的交易所不同，Uniswap 不使用订单簿来撮合买卖双方的交易。相反，它使用 <strong>自动化做市商（AMM）</strong> 模型，通过智能合约提供流动性。流动性提供者（Liquidity Providers，LP）将两种代币存入流动性池，任何人都可以从池中进行交易。</li>
<li>AMM 机制依赖一个 <strong>恒定乘积市场做市商</strong>（Constant Product Market Maker，CPMM）模型，这个模型由以下公式表示：<br>[<br>x \times y &#x3D; k<br>]<ul>
<li><code>x</code> 和 <code>y</code> 代表池中两种资产的数量，<code>k</code> 是一个常量。</li>
<li>这个公式保证了池中的代币数量在交易过程中保持平衡。每笔交易都会改变池中资产的数量，并自动调整交易价格。</li>
</ul>
</li>
</ul>
<h3 id="2-流动性池（Liquidity-Pools）"><a href="#2-流动性池（Liquidity-Pools）" class="headerlink" title="2. 流动性池（Liquidity Pools）"></a>2. 流动性池（Liquidity Pools）</h3><ul>
<li>每个 Uniswap 交易对（如 ETH 和 ERC-20 代币）都由一个流动性池（Liquidity Pool）来支持。流动性池中的资产量根据池中的供应和需求变化而变化，交易的价格是基于池内资产的比例自动确定的。</li>
<li><strong>流动性提供者</strong>：用户将两种代币存入流动性池，提供交易所需要的流动性，作为回报，他们将获得交易手续费的一部分。流动性提供者的奖励按比例分配，基于他们提供的流动性份额。</li>
</ul>
<h3 id="3-无许可和去中心化"><a href="#3-无许可和去中心化" class="headerlink" title="3. 无许可和去中心化"></a>3. 无许可和去中心化</h3><ul>
<li><strong>无许可</strong>：任何人都可以在 Uniswap 上进行交易，无需注册或身份验证。</li>
<li><strong>去中心化</strong>：Uniswap 完全去中心化，交易和资产管理通过智能合约自动执行，没有中心化的实体控制，所有交易都是公开透明的。</li>
</ul>
<h3 id="4-ETH-↔-ERC-20-代币交易"><a href="#4-ETH-↔-ERC-20-代币交易" class="headerlink" title="4. ETH ↔ ERC-20 代币交易"></a>4. ETH ↔ ERC-20 代币交易</h3><ul>
<li>Uniswap V1 支持 <strong>ETH 和 ERC-20 代币</strong> 之间的交换。每个交易对由一个独立的智能合约来管理，并且每个合约都存储一定数量的 ETH 和 ERC-20 代币。这些代币的交易是基于流动性池中的资产比率来自动确定价格的。</li>
<li>不同的交易对由不同的流动性池管理。例如，ETH&#x2F;DAI 交易对将会有一个存储 ETH 和 DAI 的流动性池，交易价格基于该池中 ETH 和 DAI 的比例计算。</li>
</ul>
<h3 id="5-交易费用（Transaction-Fees）"><a href="#5-交易费用（Transaction-Fees）" class="headerlink" title="5. 交易费用（Transaction Fees）"></a>5. 交易费用（Transaction Fees）</h3><ul>
<li>每笔交易都会产生 <strong>0.3%</strong> 的手续费，该费用会分配给流动性提供者（LP），根据他们在池中的流动性份额来获得相应的奖励。</li>
<li>这种手续费模型是 Uniswap 的重要特性之一，它鼓励用户为交易池提供流动性，从而确保市场的流动性和价格发现。</li>
</ul>
<h3 id="6-没有价格预言机（Price-Oracles）"><a href="#6-没有价格预言机（Price-Oracles）" class="headerlink" title="6. 没有价格预言机（Price Oracles）"></a>6. 没有价格预言机（Price Oracles）</h3><ul>
<li>在 Uniswap V1 中，由于没有链上价格预言机机制，价格可能会在市场波动时出现失真。价格的准确性完全依赖于池中资产的比例，可能会受到 <strong>无常损失（Impermanent Loss）</strong> 等因素的影响。</li>
<li>后来的 Uniswap V2 和 V3 引入了链上价格预言机和其他改进，解决了 V1 的一些局限性。</li>
</ul>
<h2 id="Uniswap-V1-的工作原理"><a href="#Uniswap-V1-的工作原理" class="headerlink" title="Uniswap V1 的工作原理"></a>Uniswap V1 的工作原理</h2><ol>
<li><p><strong>创建流动性池</strong><br>用户通过存入等值的两种代币（例如 ETH 和 DAI）创建一个流动性池。这个流动性池中的代币数量和价值会随着交易的进行而变化，价格由恒定乘积公式自动设定。</p>
</li>
<li><p><strong>交易过程</strong><br>用户想要交易某种代币时，可以通过智能合约直接向流动性池发送请求。例如，用户想用 ETH 购买 DAI，系统会根据 ETH 和 DAI 在流动性池中的比例，计算出交易的汇率和 DAI 数量，然后返回给用户。</p>
</li>
<li><p><strong>流动性提供者的奖励</strong><br>流动性提供者会通过提供代币流动性赚取交易手续费。手续费按照他们在池中的流动性份额分配。随着交易量的增加，流动性提供者可以获得更多的奖励。</p>
</li>
<li><p><strong>池中资产的变化与价格调整</strong><br>每笔交易都会改变池中代币的数量。根据恒定乘积公式，池中两种代币的数量保持平衡。假如某种代币的数量减少，交易价格就会上涨；反之，数量增加则价格下降。</p>
</li>
<li><p><strong>去中心化的智能合约执行</strong><br>Uniswap 的所有交易都是通过智能合约自动执行的，确保了去中心化交易所的透明性和可靠性。用户直接与智能合约交互，不需要依赖任何中介机构。</p>
</li>
</ol>
<h2 id="Uniswap-V1-的局限性"><a href="#Uniswap-V1-的局限性" class="headerlink" title="Uniswap V1 的局限性"></a>Uniswap V1 的局限性</h2><ol>
<li><p><strong>仅支持两种资产的交易对</strong><br>Uniswap V1 只能在两种资产之间进行交易，且这些资产必须同时存在于流动性池中。无法进行跨多个资产池的交易。</p>
</li>
<li><p><strong>价格失真与滑点问题</strong><br>由于缺乏链上价格预言机和其他保护机制，Uniswap V1 的价格在市场波动较大的时候可能会出现失真。此外，交易对的流动性不足时，价格可能会发生较大变化（即滑点问题）。</p>
</li>
<li><p><strong>无常损失</strong><br>流动性提供者可能面临无常损失，即由于市场价格的变化，流动性提供者在移除流动性时可能会面临损失，尤其是在价格波动较大的市场中。</p>
</li>
</ol>
<h2 id="Uniswap-V1-的优点"><a href="#Uniswap-V1-的优点" class="headerlink" title="Uniswap V1 的优点"></a>Uniswap V1 的优点</h2><ol>
<li><p><strong>去中心化交易</strong><br>Uniswap V1 实现了去中心化交易，用户可以直接与智能合约交互进行交易，无需信任任何中介机构。</p>
</li>
<li><p><strong>无需许可</strong><br>任何人都可以通过提供流动性或进行交易来参与 Uniswap，无需注册或身份验证。</p>
</li>
<li><p><strong>无摩擦交易</strong><br>交易不依赖传统的买卖订单簿，而是通过 AMM 模型直接与流动性池进行交互，简化了交易流程，减少了摩擦。</p>
</li>
<li><p><strong>支持 ERC-20 代币</strong><br>Uniswap V1 支持所有 ERC-20 代币，使得它成为一个灵活的去中心化交易平台，支持多种资产之间的交易。</p>
</li>
</ol>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>Uniswap V1 是一个创新的去中心化自动化做市商（AMM）协议，通过智能合约为用户提供了简单、高效且无需许可的交易方式。它的核心优势在于去中心化、简化交易流程、以及流动性提供者通过交易手续费获得奖励。然而，Uniswap V1 也存在一些局限性，例如价格失真和滑点问题，这些问题在后续的版本（如 V2 和 V3）中得到了改进。</p>
<p>Uniswap V1 为去中心化交易所（DEX）和去中心化金融（DeFi）应用的发展奠定了基础，是目前最广泛使用的去中心化交易协议之一。</p>
<div id="paginator"></div></div><div id="post-footer"><div id="pages"><div class="footer-link" style="width: 50%;text-align:right;border-right:1px #fe2 solid"><a href="/news/">← Next 就像冬天下雪，不算多特别</a></div><div class="footer-link" style="width: 50%;right:1px;border-left:1px #fe2 solid"><a href="/2024/11/29/BitcoinCore-Build-C1/">从零开始在云服务器上搭建比特币测试区块链-Chapter1 Prev →</a></div></div></div></div><div class="bottom-btn"><div><a class="i-top" id="to-top" onClick="scrolls.scrolltop();" title="To Top" style="opacity: 0; display: none;">∧ </a><a class="i-index" id="to-index" href="#toc-div" title="To Catalog">≡</a><a class="i-color" id="color-mode" onClick="colorMode.change()" title="Change Theme"></a></div></div></article><aside><div id="about"><a href="/" id="logo"><img src="/img/1.png" alt="Logo"></a><h1 id="Dr"><a>0xOne1eaF</a></h1><div id="description"><p></p></div></div><div id="aside-block"><div id="toc-div"><h1>Catalog</h1><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Uniswap-V1-%E5%9F%BA%E6%9C%AC%E4%BF%A1%E6%81%AF"><span class="toc-number">1.</span> <span class="toc-text">Uniswap V1 基本信息</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Uniswap-V1-%E7%9A%84%E6%A0%B8%E5%BF%83%E7%89%B9%E7%82%B9"><span class="toc-number">1.1.</span> <span class="toc-text">Uniswap V1 的核心特点</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E8%87%AA%E5%8A%A8%E5%8C%96%E5%81%9A%E5%B8%82%E5%95%86%EF%BC%88AMM%EF%BC%89%E6%A8%A1%E5%9E%8B"><span class="toc-number">1.1.1.</span> <span class="toc-text">1. 自动化做市商（AMM）模型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E6%B5%81%E5%8A%A8%E6%80%A7%E6%B1%A0%EF%BC%88Liquidity-Pools%EF%BC%89"><span class="toc-number">1.1.2.</span> <span class="toc-text">2. 流动性池（Liquidity Pools）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E6%97%A0%E8%AE%B8%E5%8F%AF%E5%92%8C%E5%8E%BB%E4%B8%AD%E5%BF%83%E5%8C%96"><span class="toc-number">1.1.3.</span> <span class="toc-text">3. 无许可和去中心化</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-ETH-%E2%86%94-ERC-20-%E4%BB%A3%E5%B8%81%E4%BA%A4%E6%98%93"><span class="toc-number">1.1.4.</span> <span class="toc-text">4. ETH ↔ ERC-20 代币交易</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-%E4%BA%A4%E6%98%93%E8%B4%B9%E7%94%A8%EF%BC%88Transaction-Fees%EF%BC%89"><span class="toc-number">1.1.5.</span> <span class="toc-text">5. 交易费用（Transaction Fees）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-%E6%B2%A1%E6%9C%89%E4%BB%B7%E6%A0%BC%E9%A2%84%E8%A8%80%E6%9C%BA%EF%BC%88Price-Oracles%EF%BC%89"><span class="toc-number">1.1.6.</span> <span class="toc-text">6. 没有价格预言机（Price Oracles）</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Uniswap-V1-%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86"><span class="toc-number">1.2.</span> <span class="toc-text">Uniswap V1 的工作原理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Uniswap-V1-%E7%9A%84%E5%B1%80%E9%99%90%E6%80%A7"><span class="toc-number">1.3.</span> <span class="toc-text">Uniswap V1 的局限性</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Uniswap-V1-%E7%9A%84%E4%BC%98%E7%82%B9"><span class="toc-number">1.4.</span> <span class="toc-text">Uniswap V1 的优点</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-number">1.5.</span> <span class="toc-text">总结</span></a></li></ol></li></ol></div></div><footer><nobr>Published with <a target="_blank" rel="noopener" href="http://hexo.io">Hexo</a></nobr><wbr><nobr> Theme <a target="_blank" rel="noopener" href="https://github.com/Yue-plus/hexo-theme-arknights">Arknights</a></nobr><wbr><nobr> by <a target="_blank" rel="noopener" href="https://github.com/Yue-plus">Yue_plus</a></nobr></footer></aside></main><canvas id="canvas-dust"></canvas></body></html>